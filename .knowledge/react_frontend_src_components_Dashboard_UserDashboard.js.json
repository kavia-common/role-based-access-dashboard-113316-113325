{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "React component 'UserDashboard' for displaying user profile, roles, account info, and daily tasks in a dashboard UI.", "external_files": ["../../hooks/useAuth", "../../config/supabase", "../../hooks/useTasks", "../Tasks/TaskInput", "../index", "react", "react-router-dom"], "external_methods": ["useAuth", "supabase.from('profiles').select('*')", "useTasks", "TaskInput", "Link"], "published": ["UserDashboard"], "classes": [], "methods": [{"name": "fetchUserProfile", "description": "Fetches user profile data from the 'profiles' table in Supabase and updates the component state."}, {"name": "calculateAccountStats", "description": "Calculates account age and last login time based on user data."}, {"name": "formatDate", "description": "Formats a date string into a more readable local date and time string."}, {"name": "getRoleIcon", "description": "Returns an icon representing the user role."}, {"name": "getRoleDescription", "description": "Provides a textual description of the user role."}, {"name": "handleTaskCreated", "description": "Handles the event when a new task is created, closing input and refetching tasks."}], "calls": ["supabase.from('profiles').select('*').eq('id', user.id).single()", "getUserRole()", "formatDate(user.created_at)", "formatDate(user.last_sign_in_at)"], "search-terms": ["UserDashboard", "supabase profile fetch", "role-based icons", "daily tasks", "profile info"], "state": 2, "file_id": 27, "knowledge_revision": 102, "git_revision": "b96631fd74f880f3fff138d9d1b6a9159e7c3a5a", "revision_history": [{"61": ""}, {"91": "dd51c668038598979d5675f8a6cee08b3aee6615"}, {"92": "dd51c668038598979d5675f8a6cee08b3aee6615"}, {"97": "9b50afe40cf8d1f698a30a589a7fd2a3005b6c7e"}, {"101": "b96631fd74f880f3fff138d9d1b6a9159e7c3a5a"}, {"102": "b96631fd74f880f3fff138d9d1b6a9159e7c3a5a"}], "ctags": [{"_type": "tag", "name": "AnonymousClass95bb20130201", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^              Welcome back, {user?.email} \u2022 Role: <strong style={{ textTransform: 'capitalize'/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "UserDashboard", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^const UserDashboard = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "calculateAccountStats", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^  const calculateAccountStats = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createdDate", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^    const createdDate = new Date(user.created_at);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "dailyTasks", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^  const dailyTasks = tasks.filter((t) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "diffDays", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^    const diffDays = Math.floor(diffTime \\/ (1000 * 60 * 60 * 24));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "diffTime", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^    const diffTime = Math.abs(now - createdDate);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^              e.target.style.backgroundColor = '#1e7e34';$/", "language": "JavaScript", "kind": "field", "scope": "onMouseEnter.e", "scopeKind": "class"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^              e.target.style.backgroundColor = '#28a745';$/", "language": "JavaScript", "kind": "field", "scope": "onMouseLeave.e", "scopeKind": "class"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^              e.target.style.backgroundColor = '#545b62';$/", "language": "JavaScript", "kind": "field", "scope": "onMouseEnter.e", "scopeKind": "class"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^              e.target.style.backgroundColor = '#6c757d';$/", "language": "JavaScript", "kind": "field", "scope": "onMouseLeave.e", "scopeKind": "class"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^            onMouseEnter={e => {$/", "language": "JavaScript", "kind": "property", "scope": "onMouseEnter", "scopeKind": "class"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^            onMouseLeave={e => {$/", "language": "JavaScript", "kind": "property", "scope": "onMouseLeave", "scopeKind": "class"}, {"_type": "tag", "name": "fetchUserProfile", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^            onClick={fetchUserProfile}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "fetchUserProfile", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^  const fetchUserProfile = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "formatDate", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^  const formatDate = (dateString) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getRoleDescription", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^  const getRoleDescription = (role) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getRoleIcon", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^  const getRoleIcon = (role) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleTaskCreated", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^  const handleTaskCreated = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "months", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^      const months = Math.floor(diffDays \\/ 30);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^    const now = new Date();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "onMouseEnter", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^            onMouseEnter={e => {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "onMouseLeave", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^            onMouseLeave={e => {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "setAccountAge", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^  const [accountAge, setAccountAge] = useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setLastLogin", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^  const [lastLogin, setLastLogin] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setLoading", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^  const [loading, setLoading] = useState(true);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setProfile", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^  const [profile, setProfile] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setShowTaskInput", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^  const [showTaskInput, setShowTaskInput] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "years", "path": "/home/kavia/workspace/code-generation/role-based-access-dashboard-113316-113325/react_frontend/src/components/Dashboard/UserDashboard.js", "pattern": "/^      const years = Math.floor(diffDays \\/ 365);$/", "language": "JavaScript", "kind": "constant"}], "hash": "063b740e56374a30387a4c12613dcc58", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/components/Dashboard/UserDashboard.js", "fields": [{"name": "e.target.style.backgroundColor = '#1e7e34';", "scope": "onMouseEnter.e", "scopeKind": "class", "description": "unavailable"}, {"name": "e.target.style.backgroundColor = '#28a745';", "scope": "onMouseLeave.e", "scopeKind": "class", "description": "unavailable"}, {"name": "e.target.style.backgroundColor = '#545b62';", "scope": "onMouseEnter.e", "scopeKind": "class", "description": "unavailable"}, {"name": "e.target.style.backgroundColor = '#6c757d';", "scope": "onMouseLeave.e", "scopeKind": "class", "description": "unavailable"}, {"name": "onMouseEnter={e => {", "scope": "onMouseEnter", "scopeKind": "class", "description": "unavailable"}, {"name": "onMouseLeave={e => {", "scope": "onMouseLeave", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={fetchUserProfile}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}]}